(function(){"use strict";var e={7946:function(e,t,n){var a=n(3751),s=n(641);function r(e,t,n,a,r,o){const i=(0,s.g2)("MonthListComponent"),l=(0,s.g2)("CalendarComponent"),c=(0,s.g2)("EventsListComponent");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(i,{class:"months",events:a.events,date:a.lDate,onDateChange:a.onListChange},null,8,["events","date","onDateChange"]),(0,s.bF)(l,{class:"grid",events:a.events,date:a.gDate,onViewChange:a.onGridChange},null,8,["events","date","onViewChange"]),(0,s.bF)(c,{class:"events",events:a.events},null,8,["events"])],64)}n(4114);var o=n(33);const i={class:"container"},l={class:"rm2n"};function c(e,t,n,a,r,c){const u=(0,s.g2)("vue-cal");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",l,[(0,s.bF)(u,{"hide-view-selector":"","active-view":"month",small:!0,time:!1,"disable-views":["week"],events:n.events,"events-count-on-year-view":!0,"selected-date":n.date,"cell-class":a.getCellClass,onViewChange:c.onViewChange,style:{width:"100%",height:"100%"}},{"cell-content":(0,s.k6)((({cell:e,view:t,events:n})=>[(0,s.Lk)("div",{class:(0,o.C4)(["vuecal__cell-date",[t.id,a.getCellClass(e,t,n)]])},[(0,s.eW)((0,o.v_)(e.content)+" ",1),"month"===t.id?((0,s.uX)(),(0,s.CE)("span",{key:0,class:(0,o.C4)(["vuecal__cell--has-events2",[a.getCellClass(e,t,n)]])},null,2)):(0,s.Q3)("",!0)],2)])),_:1},8,["events","selected-date","cell-class","onViewChange"])])])}var u=n(6150),d={components:{VueCal:u.A},props:{events:{type:Array,required:!0},date:{type:Date,required:!0}},setup(){const e=(e,t,n)=>"month"===t.id&&n.length&&(n[0]["class"]??"");return{getCellClass:e}},data(){return{selectedDate:new Date(1970,0,1)}},methods:{onViewChange(e){this.$emit("view-change",{startDate:e.startDate,endDate:e.endDate})}}},v=n(6262);const h=(0,v.A)(d,[["render",c],["__scopeId","data-v-0a352b11"]]);var g=h;const f=e=>((0,s.Qi)("data-v-822f2d02"),e=e(),(0,s.jt)(),e),p={key:0,class:"container"},m=f((()=>(0,s.Lk)("div",{class:"header"},[(0,s.Lk)("div",null,[(0,s.Lk)("h5",{class:"subtitle past"},"PAST"),(0,s.Lk)("h5",{class:"subtitle future"},"FUTURE")]),(0,s.Lk)("h1",{class:"title"},"EVENTS")],-1))),b={class:"timeline"},C={class:"timeline-content"},y=["innerHTML"],D={key:1,class:"container"},k=f((()=>(0,s.Lk)("div",{class:"header"},[(0,s.Lk)("div",null,[(0,s.Lk)("h5",{class:"subtitle past"},"PAST"),(0,s.Lk)("h5",{class:"subtitle future"},"FUTURE")]),(0,s.Lk)("h1",{class:"title"},"EVENTS")],-1))),w=[k];function E(e,t,n,a,r,i){return(0,s.uX)(),(0,s.CE)("div",null,[r.events2?.length?((0,s.uX)(),(0,s.CE)("div",p,[m,(0,s.Lk)("div",b,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.events2,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"timeline-item",key:t},[(0,s.Lk)("div",{class:(0,o.C4)(["timeline-marker",[e.class]])},null,2),(0,s.Lk)("div",C,[(0,s.Lk)("h3",null,(0,o.v_)(e.start),1),(0,s.Lk)("p",{innerHTML:e.summary},null,8,y)])])))),128))])])):(0,s.Q3)("",!0),r.events2?.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",D,w))])}var L={components:{},props:{events:{type:Array,required:!0}},data(){return{comingNextEvent:null,lastStagedEvent:null,events2:[]}},watch:{events:{immediate:!0,handler(e){this.comingNextEvent=e.find((e=>e.start.getTime()>Date.now())),this.events2=e.sort(((e,t)=>e.start?.getTime()-t.start?.getTime())).map((e=>({...e,start:this.toFormatedDate(e.start),end:this.toFormatedDate(e.end)})))}}},methods:{toFormatedDate:function(e){const t=e.toString().replace(/^.{3}\s|\s?GMT.+/gi,""),[n,a,s,r]=t.split(" "),[o,i]=r.split(":");let l=n;return l+=" ",l+=+a,l+=", ",l+=s,l+=" ",l+=+o<=12?o:+o,l+=":",l+=i,l+=+o<12?"AM":"PM",l}}};const M=(0,v.A)(L,[["render",E],["__scopeId","data-v-822f2d02"]]);var T=M;const S={class:"container"},O={class:"years"},j=["value"],_={class:"list"},A=["for"],F=["id","value"];function Y(e,t,n,r,i,l){return(0,s.uX)(),(0,s.CE)("div",S,[(0,s.Lk)("div",O,[(0,s.bo)((0,s.Lk)("select",{class:"select","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedYear=e),onChange:t[1]||(t[1]=(...e)=>l.onYearChange&&l.onYearChange(...e))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.years,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,o.v_)(e),9,j)))),128))],544),[[a.u1,i.selectedYear]])]),(0,s.Lk)("div",_,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.months,((e,n)=>((0,s.uX)(),(0,s.CE)("label",{class:"list-item",key:n,onChange:t[3]||(t[3]=(...e)=>l.goToMonth&&l.goToMonth(...e)),for:e},[(0,s.bo)((0,s.Lk)("input",{class:"sr-only",type:"radio",name:"month","onUpdate:modelValue":t[2]||(t[2]=e=>i.selectedMonth=e),id:e,value:n},null,8,F),[[a.XL,i.selectedMonth]]),(0,s.Lk)("span",null,(0,o.v_)(e),1)],40,A)))),128))])])}var I={components:{},props:{events:{type:Array,required:!0},date:{type:Date,required:!0}},watch:{events:{immediate:!0,handler(e){this.groups=this.getGroupedEvents(e??[])}},date:{immediate:!0,handler(e){console.log("MonthListComponent: ",e),e instanceof Date&&(this.selectedYear=e.getFullYear(),this.selectedMonth=e.getMonth())}}},data(){const e=new Date;return{groups:[],selectedMonth:e.getMonth(),selectedYear:e.getFullYear(),years:Array.from({length:25},((t,n)=>e.getFullYear()+(n-8))),months:["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{getRangeDates(){return{startDate:new Date(this.selectedYear,this.selectedMonth,1),endDate:new Date(this.selectedYear,this.selectedMonth+1,0)}},getGroupedEvents(e){return Object.values(e?.reduce(((e,t)=>{const n=t.start?.getMonth()+"."+t.start?.getDate();return e[n]?e[n].push(t):e[n]=[t],e}),{}))},onYearChange(){console.log("onYearChange",this.getRangeDates()),this.$emit("date-change",this.getRangeDates())},goToMonth(){console.log("onMonthChange",this.getRangeDates()),this.$emit("date-change",this.getRangeDates())}}};const X=(0,v.A)(I,[["render",Y],["__scopeId","data-v-317e0885"]]);var P=X,V=n(2838),N=n.n(V),R=n(953),G={name:"App",components:{CalendarComponent:g,MonthListComponent:P,EventsListComponent:T},setup(){const e=new Date,t=Date.UTC(e.getFullYear(),1+e.getMonth(),1),n=(0,R.KR)([]),a=(0,R.KR)(new Date(t)),r=(0,R.KR)(new Date(t)),o=["red-001","orange-001","yellow-001","yellow-002","green-001","teal-001","green-002","gray-001","blue-001","blue-002","blue-003","purple-001","purple-002","pink-001"],i=function(e,t){return console.log("COMPARING: ",e,t),e instanceof Date&&t instanceof Date&&e?.getMonth()===t?.getMonth()&&e?.getYear()===t?.getYear()},l=e=>e.map((e=>({title:e.summary,start:e.start.dateTime||e.start.date,end:e.end.dateTime||e.end.date,summary:N().sanitize(e.description),id:e.id}))).map((e=>({...e,start:Date.parse(e.start)?new Date(e.start):e.start,end:Date.parse(e.end)?new Date(e.end):e.end}))),c=e=>e.reduce(((e,t)=>{const n=t.start?.getMonth()+"."+t.start?.getDate();return e[n]?e[n].push(t):e[n]=[t],e}),{}),u=async function(e,t){console.log(e+"  "+t);const n=e+"  "+t,a=JSON.parse(localStorage.getItem("__cssd")??"{}");a[n];const s=`https://www.googleapis.com/calendar/v3/calendars/9188d3a61627dc646487e8a9e8a02541f4fca90eebdf0f0bf162bd0a23d45edf@group.calendar.google.com/events?singleEvents=true&orderBy=startTime&key=AIzaSyD1SAN0kf3Ou-SCDCbsiPEPsj8G4rGWIo0&timeMin=${e}&timeMax=${t}`;try{const e=await fetch(s);if(!e.ok)throw new Error("Failed to fetch events");const{items:t=[]}=await(e?.json());return t}catch(r){return[]}},d=async e=>{i(a.value,e.startDate)||(console.log("onGridChange",e),a.value=e.startDate,n.value=await h(e.startDate.toISOString(),e.endDate.toISOString()))},v=async e=>{i(r.value,e.startDate)||(console.log("onListChange",e),r.value=e.startDate,n.value=await h(e.startDate.toISOString(),e.endDate.toISOString()))},h=async(e,t)=>{const n=l(await u(e,t));return Object.values(c(n??[])).map(((e,t)=>e.map((e=>({...e,class:o[t%(o.length+1)]}))))).reduce(((e,t)=>e.concat(t)),[])};return(0,s.sV)((async()=>{const e="2024-06-01T00:00:00.000Z",t="2024-06-30T23:59:59.999Z";n.value=await h(e,t)})),{events:n,lDate:a,gDate:r,onGridChange:d,onListChange:v}}};const x=(0,v.A)(G,[["render",r]]);var K=x;const U=(0,a.Ef)(K);U.mount("#app")}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,r){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,s,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{127:"311193be",131:"d17c750f",155:"8e1dadd2",170:"d5e5cc3a",216:"c348d3bb",219:"2cfe15b3",233:"7800a8e7",238:"a61c0707",245:"24768338",269:"7304dad5",274:"0ec4a86a",324:"34fea212",326:"593b228d",332:"4eb37bc7",335:"86b7d1d3",359:"8083c24f",400:"a3ca7f66",442:"816f279a",444:"a16f3031",448:"01b448d5",466:"7e221899",514:"7b7d7c16",533:"2ad83ea7",543:"ad6a9c5e",573:"46a7a98f",595:"71098a31",613:"567ad1ab",634:"50294358",677:"7b8d425d",689:"083b2dc7",722:"4c96d66f",724:"24ec1d36",743:"167bbe1d",775:"7845c98e",785:"bdd23d1f",829:"18bd951e",836:"1e789fb4",841:"2ebe7869",859:"9ca467ab",863:"9aa09900",913:"2d9391b9",970:"2be070b3"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="js-junkie:";n.l=function(a,s,r,o){if(e[a])e[a].push(s);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=a),e[a]=[s];var v=function(t,n){i.onerror=i.onload=null,clearTimeout(h);var s=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(v.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=v.bind(null,i.onerror),i.onload=v.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/JavaScriptJunkie/"}(),function(){var e={524:0};n.f.j=function(t,a){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var r=new Promise((function(n,a){s=e[t]=[n,a]}));a.push(s[2]=r);var o=n.p+n.u(t),i=new Error,l=function(a){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var r=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,s[1](i)}};n.l(o,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,r,o=a[0],i=a[1],l=a[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var u=l(n)}for(t&&t(a);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunkjs_junkie"]=self["webpackChunkjs_junkie"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(7946)}));a=n.O(a)})();
//# sourceMappingURL=app.5ee4f4f9.js.map